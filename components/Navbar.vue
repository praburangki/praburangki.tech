<script>
import commonMixin from '~/mixins/commonMixin';
import navLinks from '~/data/navLinks';

export default {
  mixins: [commonMixin],
  props: {
    navIsVisible: {
      type: Boolean,
      default: false
    }
  },
  data: () => ({
    navLinks
  }),
  computed: {
    navVisibleClass() {
      return { navIsVisible: this.navIsVisible };
    }
  },
  methods: {
    currentRoute(route) {
      return this.$route.path === route;
    },
    toggleNavbar() {
      this.$emit('toggleNavbar');
    }
  }
};
</script>

<template lang="pug">
  .navWrapper
    header.topNav(:class="navVisibleClass")
      a.toggleNav(@click="toggleNavbar")
        |Menu
        span
    nav.navContainer(:class="navVisibleClass")
      .navList.columns.is-gapless.is-mobile
        nuxt-link.column.navItem(
          v-for="navLink in navLinks"
          :key="navLink.text"
          @click.native="toggleNavbar"
          :to="navLink.path"
          :class="{ selected: currentRoute(navLink.path) }"
        )
          |{{ navLink.text }}
          span.navMarker
</template>

<style lang="scss" scoped>
@import '~/assets/css/components/navbar.scss';
</style>
